version "4.10.0"

// Essentials
#include "ZScript/math.zsc"
#include "ZScript/events.zsc"
#include "ZScript/spawns.zsc"
#include "pickup.cfg"
#include "skill.cfg"
#include "ZScript/PickupSystem/halopickup_events.zsc"
#include "ZScript/PickupSystem/weapbehavior.zsc"
#include "ZScript/Weapons/Base/soundbase.zsc"

// Player(s)
#include "ZScript/Player/haloplayer.zsc"
#include "ZScript/Player/hplr_movement.zsc"
#include "ZScript/Player/spartan_two.zsc"
#include "ZScript/Player/spartan_three.zsc"
#include "ZScript/Player/spartan_four.zsc"
#include "ZScript/Player/spartan_dummies.zsc"

// UI
#include "ZScript/SBS/halo_sbs_base.zsc"
#include "ZScript/SBS/halo_sbs_3D.zsc"
#include "ZScript/UI/halohud_base.zsc"
#include "ZScript/UI/halo_hud.zsc"
#include "ZScript/UI/compat_huds.zsc"
#include "ZScript/UI/overlay_ui.zsc"
#include "ZScript/UI/hitmarkers.zsc"
#include "ZScript/UI/hudselector.zsc"

// Menu(s)
#include "ZScript/Menus/Base/halomenu_base.zsc"
#include "ZScript/Menus/Base/halomenu_elements.zsc"
#include "ZScript/Menus/halomenu_title.zsc"
#include "ZScript/Menus/halomenu_splash.zsc"
#include "ZScript/Menus/halomenu_playerselection.zsc"
#include "ZScript/Menus/halomenu_skillmenu.zsc"
#include "ZScript/Menus/halomenu_gametype.zsc"

// Items
#include "ZScript/Items/keys.zsc"
#include "ZScript/Items/powerup_base.zsc"
#include "ZScript/Items/powerups.zsc"
#include "ZScript/Items/pickups.zsc"
#include "ZScript/Items/barrels.zsc"
#include "ZScript/Items/shield_base.zsc"
#include "ZScript/Items/damage_effects.zsc"

// Weapon base
#include "ZScript/Weapons/Base/recoilbase.zsc"
#include "ZScript/Weapons/Base/gunbase.zsc"
#include "ZScript/Weapons/Base/projectile_common.zsc"
#include "ZScript/Weapons/Base/projectilebase.zsc"
#include "ZScript/Weapons/Base/ammobase.zsc"
#include "ZScript/Weapons/sfx.zsc"

// Weapons
#include "ZScript/Weapons/grapple.zsc"
#include "ZScript/Weapons/magnum.zsc"
#include "ZScript/Weapons/shotgun.zsc"
#include "ZScript/Weapons/supershotgun.zsc"
#include "ZScript/Weapons/assaultrifle.zsc"
#include "ZScript/Weapons/battlerifle.zsc"
#include "ZScript/Weapons/sniper_rifle.zsc"
#include "ZScript/Weapons/stanchion.zsc"
#include "ZScript/Weapons/carbine.zsc"
#include "ZScript/Weapons/PlasmaPistol.zsc"
#include "ZScript/Weapons/PlasmaRifle.zsc"
#include "ZScript/Weapons/Needler.zsc"
#include "ZScript/Weapons/bulldog.zsc"
#include "ZScript/Weapons/grenades.zsc"
#include "ZScript/Weapons/gravityhammer.zsc"
#include "ZScript/Weapons/fuelrod.zsc"
#include "ZScript/Weapons/commando.zsc"

// S2
#include "ZScript/Weapons/sidekick.zsc"
#include "ZScript/Weapons/smg.zsc"
#include "ZScript/Weapons/spiker.zsc"
#include "ZScript/Weapons/ma5b_rifle.zsc"
#include "ZScript/Weapons/rocketlauncher.zsc"
#include "ZScript/Weapons/dmr.zsc"
#include "ZScript/Weapons/unmaker.zsc"
#include "ZScript/Weapons/unmaker_bfgball.zsc"
#include "ZScript/Weapons/beamrifle.zsc"
#include "ZScript/Weapons/pulsecarbine.zsc"
#include "ZScript/Weapons/energysword.zsc"
#include "ZScript/Weapons/binaryrifle.zsc"
#include "ZScript/Weapons/lightrifle.zsc"
#include "ZScript/Weapons/scattershot.zsc"

// S3
#include "ZScript/Weapons/flamethrower.zsc"
#include "ZScript/Weapons/plasmacaster.zsc"
#include "ZScript/Weapons/hydra.zsc"
#include "ZScript/Items/freezerbeam.zsc"

// Vehicles
#include "ZScript/Vehicles/Kinematics/kine_parts.zsc" 
#include "ZScript/Vehicles/veh_parts.zsc"
#include "ZScript/Vehicles/veh_halobase.zsc"
#include "ZScript/Vehicles/veh_ghost.zsc"
#include "ZScript/Vehicles/veh_warthog.zsc"
#include "ZScript/Vehicles/veh_scorpion.zsc"
#include "ZScript/Vehicles/veh_weapons.zsc" 
#include "ZScript/Vehicles/veh_wraith.zsc" 
#include "ZScript/Vehicles/veh_mantis.zsc" 

// Laser(s)
#include "ZScript/Lasers/base/smoothlaser_base.zsc"
#include "ZScript/Lasers/halo_lasers.zsc"

// BiriBiri (Lightning)
#include "ZScript/Lightning/biribiri_base.zsc"
#include "ZScript/Lightning/biribiri_parts.zsc"

// [>> Gameplay Constants <<]
const UNIT_METER = 8.f;


// Stuff that may be used later 
class CoverTest : Actor
{
	Default
	{
		+SHOOTABLE;
		+SOLID;
		+DONTTHRUST;
		
		RenderStyle "Add";
		Alpha 0.35;
		Health int.max;
		Radius 16;
		Height 64;
	}
	
	override bool CanCollideWith(Actor other, bool passive)
	{
		if(other.target is "HaloPlayer") return false;
		return super.CanCollideWith(other, passive);
	}
	
	override void Tick()
	{
		super.Tick();
		for(let item = Inv; item; item = item.Inv)
		{
			if(item is "DamageFX_Item")
			{
				DamageFX_Item(item).DisableItem();
				RemoveInventory(item);
				item.Destroy();
			}
		}
	}
	
	States
	{
		Spawn:
			FATT A -1;
		stop;
	}
}

// Custom intermission test
class SeamlessIntermission : StatusScreen
{
	override void initStats ()
	{
		CurState = LeavingIntermission;
		nowipe = true;
	}

	override void updateStats () {}
	override void Drawer()
	{
		HLSBS.DrawString("HaloFont", "LOADING", (0,0), flags:HLSBS.SS_SCREEN_CENTER|HLSBS.SS_TEXT_CENTER);
	}
}